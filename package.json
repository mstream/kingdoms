{
    "name": "kingdoms",
    "version": "1.0.0",
    "private": true,
    "devDependencies": {
        "@babel/core": "7.8.7",
        "@babel/plugin-transform-block-scoping": "7.8.3",
        "@babel/plugin-transform-regenerator": "7.8.7",
        "@babel/plugin-transform-runtime": "7.8.3",
        "@babel/preset-env": "7.8.7",
        "@babel/preset-flow": "7.8.3",
        "@babel/preset-react": "7.8.3",
        "@testing-library/jest-dom": "5.1.1",
        "@testing-library/react": "10.0.1",
        "aws-sam-webpack-plugin": "0.6.0",
        "babel-loader": "8.0.6",
        "babel-plugin-flow-runtime": "0.19.0",
        "circular-dependency-plugin": "5.2.0",
        "css-loader": "3.4.2",
        "file-loader": "6.0.0",
        "flow-bin": "0.121.0",
        "fontmin": "0.9.8",
        "html-loader": "1.0.0",
        "html-webpack-plugin": "3.2.0",
        "jest": "25.1.0",
        "mini-css-extract-plugin": "0.9.0",
        "postcss-import": "12.0.1",
        "postcss-loader": "3.0.0",
        "prettier": "1.19.1",
        "purgecss-webpack-plugin": "2.1.0",
        "redux-mock-store": "1.5.4",
        "style-loader": "1.1.3",
        "tailwindcss": "1.2.0",
        "tailwindcss-bg-alpha": "2.1.0",
        "tailwindcss-filters": "3.0.0",
        "ttf2woff2": "3.0.0",
        "webpack": "4.41.6",
        "webpack-cli": "3.3.11",
        "webpack-dev-server": "3.10.3",
        "webpack-sources": "1.4.3"
    },
    "dependencies": {
        "await-exec": "0.1.2",
        "aws-sdk": "2.642.0",
        "axios": "0.19.2",
        "classnames": "2.2.6",
        "combine-reducers-global-state": "1.0.1",
        "flow-runtime": "0.17.0",
        "ioredis": "4.16.0",
        "jsonwebtoken": "8.5.1",
        "jwk-to-pem": "2.0.3",
        "query-string": "6.11.1",
        "react": "16.13.1",
        "react-dom": "16.13.1",
        "react-redux": "7.2.0",
        "redux": "4.0.5",
        "redux-devtools-extension": "2.13.8",
        "reselect": "4.0.0",
        "roman-decimal": "1.0.1",
        "simple-websocket": "8.1.1",
        "tumult": "3.0.14",
        "uuid": "7.0.2",
        "verror": "1.10.0"
    },
    "scripts": {
        "common-test": "jest --config common/jest.config.js common",
        "tools-test": "jest --config tools/jest.config.js tools",
        "tools-clean": "rimraf tools/dist",
        "tools-build": "webpack --mode production",
        "tools-deploy-dev": "node ./tools/dist/main.js",
        "tools-deploy-prod": "node ./tools/dist/main.js",
        "client-test": "jest --config client/jest.config.js client",
        "client-clean": "rimraf client/dist",
        "client-build": "webpack --mode production",
        "client-deploy-dev": "aws s3 cp --recursive --acl public-read client/dist/ s3://www.dev.kingdoms.maciej-laciak.com/",
        "client-deploy-prod": "aws s3 cp --recursive --acl public-read client/dist/ s3://www.prod.kingdoms.maciej-laciak.com/",
        "client-start": "webpack-dev-server --open --mode development",
        "server-test": "jest --config server/jest.config.js server",
        "server-clean": "rimraf server/.aws-sam",
        "server-build": "webpack-cli",
        "preserver-deploy-network": "sam validate -t server/network-template.yaml",
        "server-deploy-network": "sam deploy --no-fail-on-empty-changeset -t server/network-template.yaml --stack-name kingdoms-network --s3-prefix kingdoms-network",
        "preserver-deploy-persistence": "sam validate -t server/persistence-template.yaml",
        "server-deploy-persistence": "sam deploy --no-fail-on-empty-changeset -t server/persistence-template.yaml --stack-name kingdoms-persistence --s3-prefix kingdoms-persistence --parameter-overrides NetworkStackName=kingdoms-network",
        "preserver-deploy-service-dev": "cd server && sam validate && npm run server-build",
        "server-deploy-service-dev": "cd server && sam deploy --no-fail-on-empty-changeset --config-env service --stack-name kingdoms-service-dev --s3-prefix kingdoms-service-dev --parameter-overrides NetworkStackName=kingdoms-network PersistenceStackName=kingdoms-persistence Environment=dev",
        "server-deploy-dev": "npm run server-deploy-service-dev",
        "preserver-deploy-service-prod": "cd server && sam validate && npm run server-build",
        "server-deploy-service-prod": "cd server && sam deploy --no-fail-on-empty-changeset --config-env service --stack-name kingdoms-service-prod --s3-prefix kingdoms-service-prod --parameter-overrides NetworkStackName=kingdoms-network PersistenceStackName=kingdoms-persistence Environment=prod",
        "server-describe-service-dev": "aws cloudformation describe-stacks --stack-name kingdoms-service-dev | jq '.Stacks | .[] | .Outputs | reduce .[] as $i ({}; .[$i.OutputKey] = $i.OutputValue)'",
        "server-describe-service-prod": "aws cloudformation describe-stacks --stack-name kingdoms-service-prod | jq '.Stacks | .[] | .Outputs | reduce .[] as $i ({}; .[$i.OutputKey] = $i.OutputValue)'",
        "server-destroy-network": "aws cloudformation delete-stack --stack-name kingdoms-network",
        "server-destroy-persistence": "aws cloudformation delete-stack --stack-name kingdoms-persistence",
        "server-destroy-service-dev": "aws cloudformation delete-stack --stack-name kingdoms-service-dev",
        "server-destroy-service-prod": "aws cloudformation delete-stack --stack-name kingdoms-service-prod",
        "flow": "flow check",
        "pretest": "npm run flow",
        "test": "npm run tools-test && npm run common-test && npm run server-test && npm run client-test",
        "preclean": "npm run test",
        "clean": "npm run tools-clean && npm run server-clean && npm run client-clean",
        "prebuild": "npm run clean",
        "build": "npm run tools-build && npm run server-build && npm run client-build",
        "predeploy-dev": "npm run build",
        "deploy-dev": "npm run server-deploy-dev && npm run tools-deploy-dev && npm run client-deploy-dev",
        "predeploy-prod": "npm run build",
        "deploy-prod": "npm run server-deploy-prod && npm run tools-deploy-prod && npm run client-deploy-prod"
    }
}
